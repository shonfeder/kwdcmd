<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Exec (kwdcmd.Kwdcmd.Exec)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">kwdcmd</a> &#x00BB; <a href="../index.html">Kwdcmd</a> &#x00BB; Exec</nav><h1>Module <code>Kwdcmd.Exec</code></h1><p>Construct CLI entrypoints</p><p>All the entrypoionts in <a href="index.html"><code>Exec</code></a> expect toplevel terms that evalute to <code>('a, [&gt; `Msg of string]) result</code>. Any <code>Error (`Msg msg)</code> results in an exit codes of <code>1</code> with the <code>msg</code> printed to <code>stderr</code>.</p><p>Aditionally:</p><ul><li>Uncaught execptions return code <code>3</code></li><li>Parse errors or term errors return code <code>2</code></li></ul></header><dl><dt class="spec value" id="val-exit_handler"><a href="#val-exit_handler" class="anchor"></a><code><span class="keyword">val</span> exit_handler : <span>[&gt; <span>`Error of <span>[&gt; `Exn <span>| `Parse</span> <span>| `Term</span> ]</span></span> <span><span>| `Ok</span> of <span><span>(<span class="type-var">'a</span>, <span>[&gt; <span>`Msg of string</span> ]</span>)</span> Stdlib.result</span></span> ]</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>exit_hander result</code> converts Term.result values to suitable exit conditions.</p></dd></dl><dl><dt class="spec value" id="val-select"><a href="#val-select" class="anchor"></a><code><span class="keyword">val</span> select : <span>?&#8288;help:Stdlib.Format.formatter</span> <span>&#45;&gt;</span> <span>?&#8288;err:Stdlib.Format.formatter</span> <span>&#45;&gt;</span> <span>?&#8288;catch:bool</span> <span>&#45;&gt;</span> <span>?&#8288;env:<span>(string <span>&#45;&gt;</span> <span>string option</span>)</span></span> <span>&#45;&gt;</span> <span>?&#8288;argv:<span>string array</span></span> <span>&#45;&gt;</span> <span>?&#8288;default:<span>(<span><span><span>(<span class="type-var">'a</span>, <span>[&gt; <span>`Msg of string</span> ]</span> <span class="keyword">as</span> 'b)</span> Stdlib.result</span> Cmdliner.Term.t</span> * Cmdliner.Term.info)</span></span> <span>&#45;&gt;</span> <span>?&#8288;doc:string</span> <span>&#45;&gt;</span> <span>?&#8288;sdocs:string</span> <span>&#45;&gt;</span> <span>?&#8288;exits:<span>Cmdliner.Term.exit_info list</span></span> <span>&#45;&gt;</span> <span>?&#8288;man:<span>Cmdliner.Manpage.block list</span></span> <span>&#45;&gt;</span> <span>?&#8288;version:string</span> <span>&#45;&gt;</span> <span>name:string</span> <span>&#45;&gt;</span> <span><span>(<span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> Stdlib.result</span> Cmdliner.Term.t</span> * Cmdliner.Term.info)</span> list</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Subcommand selector entrypoint.</p></dd></dl><dl><dt class="spec value" id="val-run"><a href="#val-run" class="anchor"></a><code><span class="keyword">val</span> run : <span>name:string</span> <span>&#45;&gt;</span> <span>version:string</span> <span>&#45;&gt;</span> <span>doc:string</span> <span>&#45;&gt;</span> <span><span><span>(<span class="type-var">'a</span>, <span>[&gt; <span>`Msg of string</span> ]</span>)</span> Stdlib.result</span> Cmdliner.Term.t</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>A single cmd entrypoint.</p></dd></dl></div></body></html>